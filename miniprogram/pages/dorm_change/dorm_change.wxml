<view class="container">
  <view style="display:flex;background:#fff;padding:0 30rpx;">
    <view style="flex:1;text-align:center;padding:30rpx 0;" bindtap="switch" data-i="0">申请记录</view>
    <view style="flex:1;text-align:center;padding:30rpx 0;" bindtap="switch" data-i="1">提交申请</view>
  </view>
  <view wx:if="{{tab===0}}" class="card">
    <block wx:for="{{requests}}" wx:key="id">
      <view class="list-item"><text class="label">日期</text><text>{{item.created_at}}</text></view>
      <view class="list-item"><text class="label">状态</text><text class="status status-{{item.status}}">{{item.status}}</text></view>
      <view style="color:#666;font-size:26rpx;margin:10rpx 0;">{{item.reason}}</view>
    </block>
  </view>
  <view wx:if="{{tab===1}}" class="card">
    <input class="input" type="number" placeholder="目标宿舍ID(选填)" bindinput="onInput" data-field="target_dorm_id" />
    <textarea class="input" style="height:160rpx" placeholder="申请理由" bindinput="onInput" data-field="reason" />
    <button class="btn-primary" bindtap="submit">提交申请</button>
  </view>
</view>
